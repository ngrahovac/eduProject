@page "/homepage/{queryString}"
@page "/homepage"
@inject ApiService ApiService
@inject NavigationManager NavigationManager

@inject IAuthService AuthService

<style>
    body {
        padding-top: 7rem;
    }
    .container{
        margin-bottom:60px;
    }
    .time-period {
        display: flex;
        flex-wrap: wrap;
        color: #d9831f;
        position: absolute;
        right: 10px;
        bottom: 5px;
    }
    .dash {
        margin-left: 2px;
        margin-right: 2px;
    }
    .mb-1{
        margin-bottom:1rem !important;
    }
    .spinner-border {
        width: 80px;
        height: 80px;
        top: 40%;
        left: 46%;
        position: absolute;
    }

</style>

<div class="container"> 
     @if (projectDisplayModels.Count() == 0)
    {
         <div class="d-flex justify-content-center">
              <div class="spinner-border text-primary" role="status">
                <span class="sr-only"></span>
              </div>      
         </div>
    }

    <div class="list-group">  
        @foreach (var model in projectDisplayModels)
         {
            <a href="@($"{NavigationManager.BaseUri}projects/{model.ProjectId}")" class="list-group-item list-group-item-action">

                <div class="d-flex w-100 justify-content-between">
                    <h4 class="mb-1" style="font-weight:bold;">@model.Title</h4>
                     @if (model.ProjectStatus == ProjectStatus.Active)
                    {<small class="text-success">@(model.ProjectStatus.GetAttribute<DisplayAttribute>().Name)</small>}
                    else
                    {<small class="text-primary">@(model.ProjectStatus.GetAttribute<DisplayAttribute>().Name)</small>}                   
                </div>
                <p class="mb-1">@model.Description</p>


                <div class="time-period">

                    @if (model.StartDate == null)
                    {
                        <h7 >N/A</h7>
                    }
                    else
                    {
                        <h7 >@model.StartDate</h7>
                    }
                    <h7 class="dash">-</h7>
                    @if (model.EndDate == null)
                    {
                        <h7 >N/A</h7>
                    }
                    else
                    {
                        <h7 >@model.EndDate</h7>
                    }
                </div>
            </a>
         }
    
    </div>
  
</div>





